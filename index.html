<span style="width: 100%; height: 100%; background-color: red">
  <link rel="preconnect" href="https://rsms.me/" />
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
  <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
  <style>
    :root {
      --currency1: "₱";
      --currency2: "$";
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    input[type="number"] {
      -moz-appearance: textfield;
    }
    #exchange-section {
      width: 430px;
      height: 412px;
      background-color: white;
      padding: 16px;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      font-family: Inter;
      user-select: none;
    }
    #exchange-section > * {
      -webkit-transition: all 0.3s ease-in-out;
      -moz-transition: all 0.3s ease-in-out;
      transition: all 0.3s ease-in-out;
    }
    #exchange-switch-container {
      display: flex;
      flex-direction: row;
      width: 100%;
      justify-content: space-between;
      align-items: center;
    }
    .exchange-switch-btn {
      width: 166px;
      height: 43px;
      border-radius: 12px;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      border: 1px solid #cad0db;
      background-color: white;
      gap: 8px;
    }
    .exchange-switch-btn-title {
      font-size: 14px;
      font-weight: 500;
      line-height: 24px;
      text-align: center;
    }
    .exchange-input-label {
      font-size: 14px;
      font-weight: 300;
      line-height: 24px;
    }
    .exchange-input {
      border: 2px solid #7f7f7f;
      width: 100%;
      height: 56px;
      border-radius: 8px;
      margin-top: 4px;
      box-sizing: border-box;
      font-size: 20px;
      font-weight: 500;
      line-height: 24px;
      letter-spacing: 0.5px;
      padding: 0 8px;
      transition: 0.1s;
      outline: none;
      color: #29456a;
    }
    input[type="number"]:focus {
      border-color: #4cb4fa;
    }
    .light-text {
      font-size: 14px;
      font-weight: 300;
      line-height: 24px;
    }
    .exchange-input-container {
      margin-top: 8px;
    }
    .exchange-promo {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .exchange-promo-offer {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2px;
    }
    #submit-btn {
      background: #4cb4fa;
      width: 100%;
      min-height: 40px;
      border-radius: 40px;
      border-width: 0;
      font-size: 14px;
      font-weight: 600;
      line-height: 20px;
      letter-spacing: 0.1;
      text-align: center;
      color: white;
    }
    .offer-container {
      background: #bbe4ca;
      padding: 2px 12px;
      border-radius: 40px;
      align-self: flex-end;
    }
    .input-currency {
      position: relative;
    }
    .input-currency input {
      padding-left: 28px;
    }
    .input-currency:before {
      left: 12px;
    }
    .currency1:before {
      position: absolute;
      content: var(--currency1);
      font-size: 20px;
      font-weight: 500;
      letter-spacing: 0.5px;
      color: #29456a;
      bottom: -1px;
      height: 24px;
    }
    .currency2:before {
      position: absolute;
      content: var(--currency2);
      bottom: 0;
      font-size: 20px;
      font-weight: 500;
      letter-spacing: 0.5px;
      color: #29456a;
      bottom: -1px;
      height: 24px;
    }
  </style>
  <section id="exchange-section">
    <div id="exchange-switch-container">
      <button id="exchange-btn1" class="exchange-switch-btn">
        <img
          src="https://raw.githubusercontent.com/Tang-Application/public_assets/54e4515dc00c6eb51c77aa586b894e1f61b44a21/ph_flag.svg"
          alt="Philippines"
        />
        <h1 class="exchange-switch-btn-title">PH</h1>
      </button>
      <img
        id="exchange-switch"
        style="cursor: pointer"
        src="https://raw.githubusercontent.com/Tang-Application/public_assets/2f8be119b0b3b8fa046f6ca6ab5b8bed087fb72d/switch.svg"
        alt="switch"
      />
      <button id="exchange-btn2" class="exchange-switch-btn">
        <img
          src="https://raw.githubusercontent.com/Tang-Application/public_assets/54e4515dc00c6eb51c77aa586b894e1f61b44a21/us_flag.svg"
          alt="United States"
        />
        <h1 class="exchange-switch-btn-title">U.S.</h1>
      </button>
    </div>
    <div class="exchange-input-container">
      <label
        for="exchange-input1"
        style="display: block"
        class="exchange-input-label"
        >You send</label
      >
      <span id="input1" class="input-currency currency1">
        <input
          type="number"
          name=""
          id="exchange-input1"
          class="exchange-input"
          autocomplete="off"
      /></span>
      <span class="light-text">
        Need higher limits?
        <span style="color: #4cb4fa; cursor: pointer">Contact us</span>
      </span>
    </div>
    <div class="exchange-input-container">
      <label
        for="exchange-input2"
        style="display: block"
        class="exchange-input-label"
        >They Receive</label
      >
      <span id="input2" class="input-currency currency2">
        <input
          type="number"
          name=""
          id="exchange-input2"
          class="exchange-input"
          autocomplete="off"
      /></span>
    </div>
    <div class="exchange-promo">
      <span class="light-text"
        >Promo rate applied on your first 3 transfers</span
      >
      <span class="exchange-promo-offer">
        <img
          src="https://raw.githubusercontent.com/Tang-Application/public_assets/d61e05ef4f32f8b41a56bc97ddb8a13020efa1e0/promo.svg"
          alt="promo"
        />
        <span class="light-text">$1 = ₱50</span>
      </span>
    </div>
    <div class="offer-container">
      <span class="light-text" style="color: #00873f"
        >You save
        <span style="font-weight: 700">₱10,180.00</span>
      </span>
    </div>
    <button id="submit-btn">Continue</button>
  </section>
  <script>
    let isOutbound = true;
    const defaultRates = { inbound: 55, outbound: 50 };
    let exchangeRates = defaultRates;

    const changeFlow = () => {
      isOutbound = !isOutbound;

      // Update currency
      const input1Container = document.querySelector("#input1");
      const input2Container = document.querySelector("#input2");
      input1Container.classList.toggle("currency1");
      input1Container.classList.toggle("currency2");
      input2Container.classList.toggle("currency1");
      input2Container.classList.toggle("currency2");

      // Update Flag
      const btn1Flag = document.querySelector("#exchange-btn1>img");
      const btn2Flag = document.querySelector("#exchange-btn2>img");

      const tempUrl = btn1Flag.src;
      btn1Flag.src = btn2Flag.src;
      btn2Flag.src = tempUrl;

      // Update Country
      const btn1Title = document.querySelector("#exchange-btn1>h1");
      const btn2Title = document.querySelector("#exchange-btn2>h1");

      btn1Title.innerHTML = isOutbound ? "PH" : "U.S.";
      btn2Title.innerHTML = isOutbound ? "U.S." : "PH";

      // Update Promo
      const promoText = document.querySelector(".exchange-promo-offer>span");
      promoText.innerHTML = isOutbound
        ? `$1 = ₱${exchangeRates.outbound}`
        : `$1 = ₱${exchangeRates.inbound}`;

      // Reset input and range
      const input1 = document.querySelector("#exchange-input1");
      input1.value = "";
      input1.max;
      const input2 = document.querySelector("#exchange-input2");
      input2.value = "";
    };

    const updateInput1 = (e) => {
      const exchangeInput = document.querySelector("#exchange-input2");
      if (!isNaN(e.target.value)) {
        const exchangeValue = isOutbound
          ? e.target.value / exchangeRates.outbound
          : e.target.value * exchangeRates.inbound;
        exchangeInput.value = exchangeValue;
      }
    };

    const updateInput2 = (e) => {
      const exchangeInput = document.querySelector("#exchange-input1");
      if (!isNaN(e.target.value)) {
        const exchangeValue = isOutbound
          ? e.target.value * exchangeRates.outbound
          : e.target.value / exchangeRates.inbound;
        exchangeInput.value = exchangeValue;
      }
    };

    const handleExchangeLogic = () => {
      const exchangeSwitch = document.querySelector("#exchange-switch");
      const exchangeInput1 = document.querySelector("#exchange-input1");
      const exchangeInput2 = document.querySelector("#exchange-input2");

      const localRates = localStorage.getItem("exchange");

      if (!localRates) {
        // fetch rates
        const rates = defaultRates;
        localStorage.setItem("exchange", JSON.stringify(rates));
        exchangeRates = rates;
      } else {
        exchangeRates = JSON.parse(localRates);
      }

      exchangeSwitch.addEventListener("click", _.debounce(changeFlow, 200));
      exchangeInput1.addEventListener("input", _.debounce(updateInput1, 100));
      exchangeInput2.addEventListener("input", _.debounce(updateInput2, 100));
    };

    document.addEventListener("DOMContentLoaded", handleExchangeLogic);
  </script>
</span>
